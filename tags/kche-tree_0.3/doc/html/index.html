<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Kche-tree: Kche-tree Template Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Kche-tree&#160;<span id="projectnumber">0.1</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Kche-tree Template Documentation </div>  </div>
</div>
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="introduction"></a>
Introduction</h2>
<p>Kche-tree is a template for generic cache-aware and non-mutable kd-trees. Its main purpose is to provide an easy to use but powerful implementation of the typical kd-tree structure functionality with very low latencies.</p>
<p>It provides the following basic operations:</p>
<ul>
<li><a class="el" href="classkd__tree.html#a377902de21fd685725c460582cfcc1a4">Build</a>: create a kd-tree from a training set of feature vectors. Median splitting is used to keep the tree balanced. Cost: O(n logÂ² n).</li>
<li><a class="el" href="classkd__tree.html#a83fafa613b129b2a96da25ddf0d703fe">K nearest neighbours</a>: retrieve the K nearest neighbours of a given feature vector. Estimated average cost: O(log K log n).</li>
<li><a class="el" href="classkd__tree.html#a2de78a50fc88f711ec5fce25475587f7">All neighbours within a range</a>: retrieve all the neighbours inside a maximum distance radius from a given feature vector. Estimated average cost: O(log m log n) with <em>m</em> the number of neighbours in the range.</li>
</ul>
<p>The template has been designed to minimize the number of cache misses combined with many algorithmic techniques and ideas.<br/>
 Here are some of its features:</p>
<ul>
<li>Incremental calculation of the hyperrectangle-hypersphere intersections.</li>
<li>Internal data permutation to increase cache hits.</li>
<li>Contiguous bucket data to reduce the leaf node size.</li>
<li>Preorder memory allocation during the build to increase cache hits when traversing.</li>
<li>Exploration/intersection recursive scheme to reduce the number of calculations performed.</li>
<li>Use of specific k-neighbours optimized containers: k-vectors and k-heaps.</li>
<li>Distance calculations with upper bounds allowing early returns.</li>
<li>Designed to easily enable SSE optimizations by template specialization. Example and benchmarks included.</li>
<li>Binary file format and stream operators provide to easily save and load the kd-trees.</li>
</ul>
<p>The current version is not still thread-safe. This is expected to be solved in future releases along with OpenMP optimizations.</p>
<p>Additionally, the following tools are provided:</p>
<ul>
<li>Example tool: shows a quite simple use of the template. Can be found in file <a class="el" href="example_8cpp.html" title="Example program to illustrate the use of the kd_tree template.">example.cpp</a>.</li>
<li>Testing tool: tests the correction of the results and the I/O functions of the kd-tree. Comes in various flavors: random feature vector generation or file input and SSE optimizations. Can be found in file <a class="el" href="test__kdtree_8cpp.html" title="Testing tool for kd-trees.">test_kdtree.cpp</a>.</li>
<li>Benchmark tool: measures the time spent in building the kd-tree and finding the K nearest neighbours. Like the testing tool comes in various flavors allowing to test its speed with random or preprocessed data from a file. Can be found in file <a class="el" href="speed__kdtree_8cpp.html" title="Benchmark tool for kd-trees.">speed_kdtree.cpp</a>.</li>
</ul>
<h2><a class="anchor" id="installation"></a>
Usage</h2>
<p>Kche-trees are quite simple to use. Just include the <code><a class="el" href="kd-tree_8h.html" title="Template for generic kd-trees.">kd-tree.h</a></code> file and proceed like in the usage example <code><a class="el" href="example_8cpp.html" title="Example program to illustrate the use of the kd_tree template.">example.cpp</a></code>. Since it's a template no additional files required to be compiled or linked. However it requires the following files to be present where the main header is:</p>
<ul>
<li>kd-tree template files: <a class="el" href="kd-tree_8h.html" title="Template for generic kd-trees.">kd-tree.h</a>, <a class="el" href="kd-tree_8cpp.html" title="Template implementations for generic kd-trees.">kd-tree.cpp</a>, <a class="el" href="kd-tree__io_8cpp.html" title="Template implementations for stream operations in kd-trees.">kd-tree_io.cpp</a></li>
<li>feature vector files: <a class="el" href="feature__vector_8h.html" title="Template for generic D-dimensional feature vectors.">feature_vector.h</a>, <a class="el" href="feature__vector_8cpp.html" title="Template implementations for generic D-dimensional feature vectors.">feature_vector.cpp</a></li>
<li>k-neighbour container files: <a class="el" href="k-vector_8h.html" title="Template for k-vectors holding the best k elements (linear).">k-vector.h</a>, <a class="el" href="k-vector_8cpp.html" title="Template implementations for k-vectors holding the best k elements (linear, but simpler).">k-vector.cpp</a> for k-vectors, <a class="el" href="k-heap_8h.html" title="Template for k-heaps holding the best k elements (logarithmic).">k-heap.h</a>, <a class="el" href="k-heap_8cpp.html" title="Template implementations for k-heaps holding the best k elements.">k-heap.cpp</a>, <a class="el" href="indirect__heap_8h.html" title="Template for index-based indirect heaps.">indirect_heap.h</a>, <a class="el" href="indirect__heap_8cpp.html" title="Template implementations for index-based indirect heaps.">indirect_heap.cpp</a> for k-heaps.</li>
<li><b>LICENSE</b>: don't forget this is GPL code. Yours must be also if you use this.</li>
</ul>
<p>In case of using the floating point/24 dimension SSE specialization, the file <a class="el" href="kd-tree__sse__24d_8h.html" title="Distance function specializations for single-precision floating point vectors of 24 dimensions using ...">kd-tree_sse_24d.h</a> and the compilation flag <code>-msse</code> will be required. </p>
</div></div>
<hr class="footer"/><address class="footer"><small>Generated on Wed May 25 2011 00:40:21 for Kche-tree by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
